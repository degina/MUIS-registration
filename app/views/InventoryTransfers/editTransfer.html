<form class="form-horizontal" method="get"
      accept-charset="utf-8"
      enctype="multipart/form-data">
    <div class="row">
        <div class="col-md-12">
            <div class="tabcordion">
                <div id="myTabContent" class="tab-content">
                    <div class="tab-pane fade active in" id="product_general">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">

                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-12 m-b-30">
                                                <div class="col-md-5">
                                                    <div class="row m-b-10">
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   style="font-size: larger;"><strong>&{'from_location'}
                                                                :</strong>
                                                            </label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   id="from_location_edit"
                                                                   style="font-size: larger;">${transfer.from.name}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row m-b-10">
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   style="font-size: larger;"><strong>&{'transferer'}
                                                                :</strong>
                                                            </label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   id="transferer_edit"
                                                                   style="font-size: larger;">${transfer.transferer}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row m-b-10">
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   style="font-size: larger;"><strong>&{'transfer_date'}
                                                                :</strong>
                                                            </label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   id="transfer_date_edit"
                                                                   style="font-size: larger;">${transfer.date.format("YYYY/MM/dd HH:mm")}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-5">
                                                    <div class="row m-b-10">
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   style="font-size: larger"><strong>&{'to_location'}
                                                                :</strong>
                                                            </label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   id="to_location_edit"
                                                                   style="font-size: larger;">${transfer.to.name}</label>
                                                        </div>

                                                    </div>
                                                    <div class="row m-b-10">
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   style="font-size: larger"><strong>&{'reciever'}
                                                                :</strong>
                                                            </label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   id="reciever_edit"
                                                                   style="font-size: larger;">${transfer.reciever}</label>
                                                        </div>
                                                    </div>
                                                    <div class="row m-b-10">
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   style="font-size: larger"><strong>&{'recieve_date'}
                                                                :</strong>
                                                            </label>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="control-label"
                                                                   id="recieve_date_edit"
                                                                   style="font-size: larger;">#{if transfer.recieved_date!=null}${transfer.recieved_date.format("YYYY/MM/dd HH:mm")}#{/if}</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label" id="return_edit"
                                                           style="font-size: larger;">#{if transfer.isReturn}
                                                        <strong>&{'return'}</strong>#{/if}#{else}&{'transfer'}#{/else}
                                                    </label>
                                                </div>
                                                <input type="text" hidden="true"
                                                       id="transfer_id_edit" name="id" value="${transfer.id}"/>
                                                <input type="text" hidden="true"
                                                       id="transfer_status_edit" name="status"
                                                       value="${transfer.status.id}"/>
                                            </div>
                                            <div class="col-md-12 col-sm-12 col-xs-12 table-responsive table-red">
                                                <table class="table table-striped table-hover dataTable"
                                                       id="table-editable_edit">
                                                    <thead>
                                                    <tr>
                                                        <th style="width: 220px!important;align-content: center">&{'item'}</th>
                                                        <th style="width: auto;align-content: center">&{'quantity'}</th>
                                                        <th style="width: 120px;align-content: center">&{'measure'}</th>
                                                        <th style="width: 380px!important;align-content: center">&{'note'}</th>
                                                        <th style="width: 260px!important;align-content: center">&{'attachment'}</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    #{list items:transfer.inventorys,as:'items'}
                                                    <tr>
                                                        <td>
                                                            <input type="text" hidden="true" readonly name="ids"
                                                                   value="${items.id}">
                                                            <input type="text" readonly class="form-control" name="item"
                                                                   required="true" value="${items.inventory.item}">
                                                        </td>
                                                        <td>
                                                            <input type="text" class="form-control" readonly
                                                                   required="true"
                                                                   value="${items.quantity}" name="quantity">
                                                        </td>
                                                        <td>
                                                            <input type="text" readonly class="form-control"
                                                                   required="true"
                                                                   value="${items.inventory.inventoryMeasure.measure}"
                                                                   name="measure">
                                                        </td>
                                                        <td>
                                                        <textarea class="form-control valid" rows="1" name="note"
                                                                  style="width: 100%;resize: none;">${items.note}</textarea>
                                                        </td>
                                                        <td>
                                                            <div id="inventorytransfer-edit-attach">
                                                                <ul class="uploadBox"
                                                                    id="inventorytransfer-edit-attach">
                                                                    #{list items:items.attachments, as:'attach'}
                                                                        <li>
                                                            <span>
                                                                ${controllers.Functions.handleDocumentAttachment(attach.filedir,attach.filename,attach.extension,attach.filesize).raw()}
                                                            </span>
                                                                        </li>
                                                                    #{/list}
                                                                </ul>
                                                            </div>
                                                        ${controllers.Functions.handleDocumentAttachmentImgGallery("inventorytransfer-edit-attach").raw()}
                                                        </td>
                                                    </tr>
                                                    #{/list}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 m-b-40 align-center">
        #{if transfer.reciever.id==controllers.Users.getUser().id && transfer.status.id==1L}
            <button type="button" id="edit_recieve"
                    class="btn btn-success m-t-10">
                <i class="fa fa-check"></i> &{'recieve'}
            </button>
        #{/if}
        #{if (transfer.reciever.id==controllers.Users.getUser().id  || transfer.transferer.id==controllers.Users.getUser().id) && transfer.status.id==1L}
            <button type="button" id="edit_cancel"
                    class="btn btn-danger m-t-10 ">
                <i class="fa fa-times-circle"></i> &{'cancel'}
            </button>
        #{/if}
        </div>
    </div>
</form>