#{extends 'CRUD/layout.html' /}
#{set activeMenu: 'Maps'/}
#{set activeMenuSub: ''/}
<!-- BEGIN MAIN CONTENT -->
<div id="main-content">
    <div class="page-title" style="margin-top: 50px;"> <i class="icon-custom-left"></i>
        <h3>Төслийн байршлууд</h3>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default map-panel">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="map" style="height: 700px;" id="cluster-map"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

#{set title: 'Газрын зураг'/}
#{set baseClass: 'map'/}
#{set 'moreStyles'}
<link href="/assets/plugins/metrojs/metrojs.css" rel="stylesheet">
#{/set}
#{set 'moreScripts'}

<script src="/assets/plugins/mandatoryJs.min.js"></script>
<script src="/assets/plugins/metrojs/metrojs.min.js"></script>

<script src="/assets/plugins/google-maps/markerclusterer.js"></script>
<script src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script src="/assets/plugins/google-maps/gmaps.js"></script>
<script>
    var cluster_map;
    cluster_map = new GMaps({
        div: '#cluster-map',
        lat: 47.9224028,
        lng: 106.9221059,
        markerClusterer: function (map) {
            return new MarkerClusterer(map);
        }
    });

    var lat_span = 47.9224028 - 47.9554028;
    var lng_span = 106.9221059 - 106.9551059;

    for (var i = 0; i < 100; i++) {
        var latitude = Math.random() * (lat_span) + 47.9554028;
        var longitude = Math.random() * (lng_span) + 106.9551059;

        cluster_map.addMarker({
            lat: latitude,
            lng: longitude,
            title: 'Marker #' + i
        });
    }
</script>
#{/set}
